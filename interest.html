<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" href="img/icon/logo-small-64.png" type="image/x-icon" />
    <title>Kosumi Go | Page Title</title>
    <link rel="stylesheet" href="css/common.css" />
    <link rel="stylesheet" href="css/interest.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  </head>
  <body>
    <div id="page-content">
      <div class="page-title accented-text accented-style">Interest Form</div>
      <form action="https://docs.google.com/forms/u/0/d/e/1FAIpQLSfsxEFCrgY21AYzPpxk8nUVDkoysmGCOSkXXYECYrUPr59eNg/formResponse" method="POST">
        <div class="input-pair">
          <label for="name">Name</label>
          <input type="text" class="short" id="name" />
          <div class="input-border"></div>
        </div>
        <div class="input-pair">
          <label for="email">Email</label>
          <input type="text" data-role="email" class="short" id="email" />
          <div class="input-border"></div>
        </div>
        <div class="input-pair">
          <label for="age">Age</label>
          <input type="number" id="age" min="5" max="115" />
          <div class="input-border"></div>
        </div>
        <div class="input-pair">
          <label for="experience">Experience</label>
          <input type="text" class="short" id="experience" />
          <div class="input-border"></div>
        </div>
        <div class="input-pair">
          <label for="class-slot">Class Slot</label>
          <input type="text" class="short" id="class-slot" />
          <div class="input-border"></div>
        </div>
        <div class="input-pair">
          <label for="time-pref">Time Preference</label>
          <input type="text" class="short" id="time-pref" />
          <div class="input-border"></div>
        </div>
        <div class="input-pair">
          <label for="referrer">Referrer</label>
          <input type="text" class="short" id="referrer" />
          <div class="input-border"></div>
        </div>
        <div class="input-pair">
          <label for="interest-source">Interest Source</label>
          <input type="text" class="short" id="interest-source" />
          <div class="input-border"></div>
        </div>
        <div class="input-pair">
          <label for="questions">Questions</label>
          <input type="text" id="questions" />
          <div class="input-border"></div>
        </div>
        <input type="submit" value="Submit" disabled />
      </form>
    </div>
  </body>
  <script>
    //tool to validate [data-role="email"] inputs for correctness and correspondingly update the closest ".input-pair" with a "valid" or "invalid" class

    $("[data-role='email']").on("input change", function () {
      // use a regular expression to check if the input is a valid email
      let regex = /(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/;
      if ($(this).val() && regex.test($(this).val())) {
        $(this).closest(".input-pair").removeClass("invalid").addClass("valid");
      } else {
        $(this).closest(".input-pair").removeClass("valid").addClass("invalid");
      }
    });
  </script>
</html>
